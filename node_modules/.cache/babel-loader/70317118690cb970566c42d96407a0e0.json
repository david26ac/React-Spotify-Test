{"ast":null,"code":"import _regeneratorRuntime from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import Axios from'axios';import React from'react';import'../css/main.scss';var Main=/*#__PURE__*/function(_React$Component){_inherits(Main,_React$Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.state={artist:'',albums:false,content_albums:[],id:'',albumnes:[]};return _this;}_createClass(Main,[{key:\"albums\",value:function(){var _albums=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var temp_state,artist_id,respuesta,albums;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(e.currentTarget);temp_state=this;artist_id=e.currentTarget.id;_context.next=5;return this.setState({albums:true,id:artist_id});case 5:console.log(this.state.id);_context.next=8;return Axios('https://api.spotify.com/v1/artists/'+this.state.id+'/albums',{headers:{'Authorization':'Bearer '+this.props.token},params:{id:artist_id},method:'GET'});case 8:respuesta=_context.sent;console.log(this);albums=respuesta.data.items;console.log(respuesta.data.items);_context.next=14;return this.setState({albumnes:JSON.stringify(respuesta.data.items)});case 14:case\"end\":return _context.stop();}}},_callee,this);}));function albums(_x){return _albums.apply(this,arguments);}return albums;}()},{key:\"render\",value:function render(){var _this2=this;var artists='';var albums='';if(this.props.found_data!=''){artists=JSON.parse(this.props.found_data);artists=artists.data.artists.items;console.log(artists);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"main\",{children:artists?artists.map(function(artist,key){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row content_artist\",onClick:_this2.albums.bind(_this2),id:artist.id,children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cont_img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:artist.images[2]?artist.images[2].url:'',alt:\"\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"info_artist\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{class:\"artist\",children:artist.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"followers \",artist.followers.total]}),/*#__PURE__*/_jsx(\"a\",{href:'https://open.spotify.com/artist/'+artist.id,className:\"ver_artist\",target:\"_blank\",children:\"Ver artista\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"generos\",children:/*#__PURE__*/_jsx(\"p\",{children:artist.genres.map(function(genero,index){return/*#__PURE__*/_jsxs(\"span\",{className:\"genero\",children:[genero,\" \"]});})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row albums\",children:[console.log(artist),_this2.state.albumnes!=''&&artist.id==_this2.state.id?JSON.parse(_this2.state.albumnes).map(function(album){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-4\",children:[console.log(album),/*#__PURE__*/_jsxs(\"div\",{className:\"album\",children:[/*#__PURE__*/_jsxs(\"a\",{href:album.external_urls.spotify,target:\"_blank\",children:[/*#__PURE__*/_jsx(\"img\",{src:album.images[1].url,class:\"img-fluid\",alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:album.name})]}),/*#__PURE__*/_jsxs(\"p\",{class:\"tracks\",children:[\"Tracks : \",/*#__PURE__*/_jsx(\"span\",{children:album.total_tracks})]}),/*#__PURE__*/_jsx(\"span\",{children:album.release_date})]})]});}):'']})]});}):''}),/*#__PURE__*/_jsx(\"div\",{className:\"list\"})]});}}]);return Main;}(React.Component);export default Main;","map":{"version":3,"sources":["/Users/davidacuna/Documents/Spotify_test/spotify_test/src/components/main.js"],"names":["Axios","React","Main","props","state","artist","albums","content_albums","id","albumnes","e","console","log","currentTarget","temp_state","artist_id","setState","headers","token","params","method","respuesta","data","items","JSON","stringify","artists","found_data","parse","map","key","bind","images","url","name","followers","total","genres","genero","index","album","external_urls","spotify","total_tracks","release_date","Component"],"mappings":"6kCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,kBAAP,C,GAEMC,CAAAA,I,wGACF,cAAYC,KAAZ,CAAkB,sCACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,MAAM,CAAG,EADA,CAETC,MAAM,CAAG,KAFA,CAGTC,cAAc,CAAG,EAHR,CAITC,EAAE,CAAG,EAJI,CAKTC,QAAQ,CAAE,EALD,CAAb,CAFc,aASjB,C,uIACYC,C,4JACTC,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,aAAd,EACIC,U,CAAa,I,CACbC,S,CAAYL,CAAC,CAACG,aAAF,CAAgBL,E,uBAC1B,MAAKQ,QAAL,CAAc,CAChBV,MAAM,CAAG,IADO,CAEhBE,EAAE,CAAGO,SAFW,CAAd,C,QAINJ,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWI,EAAvB,E,sBACsBR,CAAAA,KAAK,CAAC,sCAAwC,KAAKI,KAAL,CAAWI,EAAnD,CAAwD,SAAzD,CAAmE,CAC1FS,OAAO,CAAG,CACN,gBAAkB,UAAY,KAAKd,KAAL,CAAWe,KADnC,CADgF,CAI1FC,MAAM,CAAG,CACLX,EAAE,CAAGO,SADA,CAJiF,CAO1FK,MAAM,CAAE,KAPkF,CAAnE,C,QAAvBC,S,eASJV,OAAO,CAACC,GAAR,CAAY,IAAZ,EACIN,M,CAASe,SAAS,CAACC,IAAV,CAAeC,K,CAC5BZ,OAAO,CAACC,GAAR,CAAYS,SAAS,CAACC,IAAV,CAAeC,KAA3B,E,uBACM,MAAKP,QAAL,CAAc,CAChBP,QAAQ,CAAEe,IAAI,CAACC,SAAL,CAAeJ,SAAS,CAACC,IAAV,CAAeC,KAA9B,CADM,CAAd,C,kLAMF,iBACJ,GAAIG,CAAAA,OAAO,CAAG,EAAd,CACA,GAAIpB,CAAAA,MAAM,CAAE,EAAZ,CACA,GAAG,KAAKH,KAAL,CAAWwB,UAAX,EAAyB,EAA5B,CAA+B,CAC3BD,OAAO,CAAGF,IAAI,CAACI,KAAL,CAAW,KAAKzB,KAAL,CAAWwB,UAAtB,CAAV,CACAD,OAAO,CAAGA,OAAO,CAACJ,IAAR,CAAaI,OAAb,CAAqBH,KAA/B,CACAZ,OAAO,CAACC,GAAR,CAAYc,OAAZ,EACH,CACD,mBACI,oCACI,sBACKA,OAAO,CAAGA,OAAO,CAACG,GAAR,CACP,SAACxB,MAAD,CAASyB,GAAT,CAAiB,CACb,mBACI,oCACI,aAAK,KAAK,CAAC,oBAAX,CAAgC,OAAO,CAAE,MAAI,CAACxB,MAAL,CAAYyB,IAAZ,CAAiB,MAAjB,CAAzC,CAAiE,EAAE,CAAE1B,MAAM,CAACG,EAA5E,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,SAAS,CAAC,UAAf,uBACI,YAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAGH,MAAM,CAAC2B,MAAP,CAAc,CAAd,EAAoB3B,MAAM,CAAC2B,MAAP,CAAc,CAAd,EAAiBC,GAArC,CAA4C,EAA7E,CAAiF,GAAG,CAAC,EAArF,EADJ,EADJ,EADJ,cAMI,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,SAAS,CAAC,aAAf,uBACI,oCACI,WAAI,KAAK,CAAC,QAAV,UAAoB5B,MAAM,CAAC6B,IAA3B,EADJ,cAEI,kCAAc7B,MAAM,CAAC8B,SAAP,CAAiBC,KAA/B,GAFJ,cAGI,UAAG,IAAI,CAAE,mCAAqC/B,MAAM,CAACG,EAArD,CAAyD,SAAS,CAAC,YAAnE,CAAgF,MAAM,CAAC,QAAvF,yBAHJ,GADJ,EADJ,EANJ,cAeI,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,SAAS,CAAC,SAAf,uBACI,mBACCH,MAAM,CAACgC,MAAP,CAAcR,GAAd,CACG,SAACS,MAAD,CAAQC,KAAR,CAAkB,CACd,mBACI,cAAM,SAAS,CAAC,QAAhB,WAA0BD,MAA1B,OADJ,CAGH,CALJ,CADD,EADJ,EADJ,EAfJ,GADJ,cA8BI,aAAK,SAAS,CAAC,YAAf,WACK3B,OAAO,CAACC,GAAR,CAAYP,MAAZ,CADL,CAEK,MAAI,CAACD,KAAL,CAAWK,QAAX,EAAuB,EAAvB,EAA6BJ,MAAM,CAACG,EAAP,EAAa,MAAI,CAACJ,KAAL,CAAWI,EAArD,CACGgB,IAAI,CAACI,KAAL,CAAW,MAAI,CAACxB,KAAL,CAAWK,QAAtB,EAAgCoB,GAAhC,CACI,SAAAW,KAAK,CAAI,CACL,mBACI,aAAK,SAAS,CAAC,OAAf,WACK7B,OAAO,CAACC,GAAR,CAAY4B,KAAZ,CADL,cAEI,aAAK,SAAS,CAAC,OAAf,wBACI,WAAG,IAAI,CAAEA,KAAK,CAACC,aAAN,CAAoBC,OAA7B,CAAsC,MAAM,CAAC,QAA7C,wBACI,YAAK,GAAG,CAAEF,KAAK,CAACR,MAAN,CAAa,CAAb,EAAgBC,GAA1B,CAA+B,KAAK,CAAC,WAArC,CAAiD,GAAG,CAAC,EAArD,EADJ,cAEI,mBAAIO,KAAK,CAACN,IAAV,EAFJ,GADJ,cAKI,WAAG,KAAK,CAAC,QAAT,oCAA2B,sBAAOM,KAAK,CAACG,YAAb,EAA3B,GALJ,cAMI,sBAAOH,KAAK,CAACI,YAAb,EANJ,GAFJ,GADJ,CAaH,CAfL,CADH,CAkBC,EApBN,GA9BJ,GADJ,CAuDH,CAzDM,CAAH,CA0DN,EA3DN,EADJ,cA8DI,YAAK,SAAS,CAAC,MAAf,EA9DJ,GADJ,CAqEH,C,kBAnHc3C,KAAK,CAAC4C,S,EAyHzB,cAAe3C,CAAAA,IAAf","sourcesContent":["import Axios from 'axios';\nimport React from 'react';\n\nimport '../css/main.scss'\n\nclass Main extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            artist : '',\n            albums : false,\n            content_albums : [],\n            id : '',\n            albumnes: []\n        }\n    }\n    async albums(e){\n        console.log(e.currentTarget)\n        let temp_state = this\n        let artist_id = e.currentTarget.id\n        await this.setState({\n            albums : true,\n            id : artist_id\n        })\n        console.log(this.state.id)\n        let respuesta = await Axios('https://api.spotify.com/v1/artists/' + this.state.id + '/albums',{\n            headers : {\n                'Authorization' : 'Bearer ' + this.props.token\n            },\n            params : {\n                id : artist_id\n            },\n            method: 'GET'\n        })\n        console.log(this)\n        let albums = respuesta.data.items\n        console.log(respuesta.data.items)\n        await this.setState({\n            albumnes: JSON.stringify(respuesta.data.items)\n        })\n\n    }\n    \n    render(){\n        let artists = ''\n        let albums =''\n        if(this.props.found_data != ''){\n            artists = JSON.parse(this.props.found_data)\n            artists = artists.data.artists.items\n            console.log(artists)\n        }\n        return (\n            <div>\n                <main>\n                    {artists ? artists.map(\n                        (artist, key) => {\n                            return(\n                                <div>\n                                    <div class='row content_artist' onClick={this.albums.bind(this)} id={artist.id}>\n                                        <div className=\"col-2\">\n                                            <div className=\"cont_img\">\n                                                <img className='img-fluid' src={ artist.images[2] ? (artist.images[2].url) : ''} alt=\"\"/>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-6\">\n                                            <div className=\"info_artist\">\n                                                <div>\n                                                    <h3 class='artist'>{artist.name}</h3>\n                                                    <p>followers {artist.followers.total}</p>\n                                                    <a href={'https://open.spotify.com/artist/' + artist.id} className='ver_artist' target='_blank'>Ver artista</a>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-4\">\n                                            <div className='generos'>\n                                                <p>\n                                                {artist.genres.map(\n                                                    (genero,index) => {\n                                                        return(\n                                                            <span className='genero'>{genero} </span>\n                                                        )\n                                                    }\n                                                )}\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"row albums\">\n                                        {console.log(artist )}\n                                        {this.state.albumnes != '' && artist.id == this.state.id? \n                                            JSON.parse(this.state.albumnes).map(\n                                                album => {\n                                                    return (\n                                                        <div className=\"col-4\">\n                                                            {console.log(album)}\n                                                            <div className=\"album\">\n                                                                <a href={album.external_urls.spotify} target='_blank'>\n                                                                    <img src={album.images[1].url} class='img-fluid' alt=\"\"/>\n                                                                    <p>{album.name}</p>\n                                                                </a>\n                                                                <p class='tracks'>Tracks : <span>{album.total_tracks}</span></p>\n                                                                <span>{album.release_date}</span>\n                                                            </div>\n                                                        </div>\n                                                    )\n                                                }\n                                            )\n                                        : ''}\n                                    </div>\n                                </div>\n                            )\n                        }) \n                    : ''}\n                </main>\n                <div className=\"list\">\n \n                </div>\n            </div>\n        )\n        \n    }\n}\n\n\n\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}