{"ast":null,"code":"import _regeneratorRuntime from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import Axios from'axios';import React from'react';import Bar from'./bar';import Main from'./main';import Carousel from'react-bootstrap/Carousel';import'../css/content.scss';var content=/*#__PURE__*/function(_React$Component){_inherits(content,_React$Component);var _super=_createSuper(content);function content(props){var _this;_classCallCheck(this,content);_this=_super.call(this,props);_this.state={artist:'',album_img:'',datos:[],token:'',search:[],bg:'',albums:[],recomended:'',id_artist:''};return _this;}_createClass(content,[{key:\"componentDidMount\",value:function componentDidMount(){var token='';var embed_state=this;//Get Token\nAxios('https://accounts.spotify.com/api/token',{headers:{'Authorization':'Basic '+btoa('8968861e742a4d3abd77147e67371983'+':'+'6c5757156c9b430aae5d0f9998b054be'),'Content-Type':'application/x-www-form-urlencoded'},data:'grant_type=client_credentials',method:'POST'}).then(function(response){// handle success\nconsole.log(response);embed_state.setState({token:response.data.access_token});embed_state.setState({datos:response});Axios('https://api.spotify.com/v1/tracks/2N0volXQpwsvjDorTTxBAU',{headers:{'Authorization':'Bearer '+response.data.access_token},method:'GET'}).then(function(response){// handle success\nvar artist=response.data.artists[0].name;var album_img=response.data.album.images[1].url;embed_state.setState({artist:artist,album_img:album_img});console.log(response);}).catch(function(error){// handle error\nconsole.log('TOKEN ERROR ----- '+error);});}).catch(function(error){// handle error\nconsole.log(error);}).then(function(error){// always executed\n//console.log(error)\n});// Ask for track or Playlist\n}},{key:\"get_search\",value:function(){var _get_search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(val){var data,img_bg,respuesta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=val;console.log(data);img_bg=val.data.artists.items[0].images[0].url;data=JSON.stringify(val);this.setState({search:data,bg:\"url(\".concat(img_bg,\")\"),artist:val.data.artists.items[0].name,id_artist:val.data.artists.items[0].id});console.log(this.state.id_artist);_context.next=8;return Axios('https://api.spotify.com/v1/artists/'+this.state.id_artist+'/albums',{headers:{'Authorization':'Bearer '+this.state.token},params:{id:''},method:'GET'});case 8:respuesta=_context.sent;console.log(respuesta);_context.next=12;return this.setState({recomended:JSON.stringify(respuesta.data.items)});case 12:case\"end\":return _context.stop();}}},_callee,this);}));function get_search(_x){return _get_search.apply(this,arguments);}return get_search;}()},{key:\"get_albums\",value:function get_albums(val){var data=val;data=JSON.stringify(val);this.setState({albums:data});console.log(this.state.albums);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Bar,{datos:this.state.datos,token:this.state.token,albums:this.get_albums.bind(this),search_found:this.get_search.bind(this)}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"offset-3 col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg\",style:{'background-image':this.state.bg},children:[/*#__PURE__*/_jsx(\"div\",{className:\"screen\"}),/*#__PURE__*/_jsx(\"h2\",{children:this.state.artist})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"recomended_h3\",children:\"Recomended Albums\"}),/*#__PURE__*/_jsx(Carousel,{children:this.state.recomended!=''?JSON.parse(this.state.recomended).map(function(album){return/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"recomended\",children:[/*#__PURE__*/_jsxs(\"a\",{href:album.external_urls.spotify,target:\"_blank\",children:[/*#__PURE__*/_jsx(\"img\",{src:album.images[1].url,class:\"img-fluid\",alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:album.name})]}),/*#__PURE__*/_jsxs(\"p\",{class:\"tracks\",children:[\"Tracks : \",/*#__PURE__*/_jsx(\"span\",{children:album.total_tracks})]}),/*#__PURE__*/_jsx(\"span\",{children:album.release_date})]})});}):''})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"offset-3 col-9\",children:/*#__PURE__*/_jsx(Main,{found_data:this.state.search,albums:this.state.albums,token:this.state.token})})})]});}}]);return content;}(React.Component);export default content;","map":{"version":3,"sources":["/Users/davidacuna/Documents/Spotify_test/spotify_test/src/components/content.js"],"names":["Axios","React","Bar","Main","Carousel","content","props","state","artist","album_img","datos","token","search","bg","albums","recomended","id_artist","embed_state","headers","btoa","data","method","then","response","console","log","setState","access_token","artists","name","album","images","url","catch","error","val","img_bg","items","JSON","stringify","id","params","respuesta","get_albums","bind","get_search","parse","map","external_urls","spotify","total_tracks","release_date","Component"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport React from 'react';\nimport Bar from './bar';\nimport Main from './main';\nimport Carousel from 'react-bootstrap/Carousel';\n\nimport '../css/content.scss'\n\nclass content extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            artist : '',\n            album_img : '',\n            datos: [],\n            token: '',\n            search : [],\n            bg: '',\n            albums: [],\n            recomended: '',\n            id_artist: ''\n        }\n    }\n    componentDidMount(){\n        let token = '';\n        let embed_state = this\n        //Get Token\n        Axios('https://accounts.spotify.com/api/token',{\n            headers : {\n                'Authorization' : 'Basic ' + btoa('8968861e742a4d3abd77147e67371983' + ':' + '6c5757156c9b430aae5d0f9998b054be'),\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            data : 'grant_type=client_credentials',\n            method: 'POST'\n        })\n        .then(function (response) {\n            // handle success\n            console.log(response);\n            embed_state.setState({\n                token: response.data.access_token\n            })\n            embed_state.setState({\n                datos: response\n            })\n            Axios('https://api.spotify.com/v1/tracks/2N0volXQpwsvjDorTTxBAU',{\n                headers : {\n                    'Authorization' : 'Bearer ' + response.data.access_token\n                },\n                method: 'GET'\n            })\n            .then(function (response) {\n                // handle success\n                let artist = response.data.artists[0].name;\n                let album_img = response.data.album.images[1].url;\n                embed_state.setState({\n                    artist :  artist,\n                    album_img : album_img\n                })\n                console.log(response)\n            })\n            .catch(function (error) {\n            // handle error\n                console.log('TOKEN ERROR ----- ' + error);\n            })\n    \n        })\n        .catch(function (error) {\n        // handle error\n            console.log(error);\n        })\n        .then(function (error) {\n        // always executed\n            //console.log(error)\n        });\n\n        // Ask for track or Playlist\n\n    }\n    async get_search(val){\n        let data = val\n        console.log(data)\n\n        let img_bg = val.data.artists.items[0].images[0].url\n        data = JSON.stringify(val)\n        this.setState({\n            search : data,\n            bg : `url(${img_bg})`,\n            artist:  val.data.artists.items[0].name,\n            id_artist : val.data.artists.items[0].id\n        })\n        console.log(this.state.id_artist)\n        let respuesta = await Axios('https://api.spotify.com/v1/artists/' + this.state.id_artist + '/albums',{\n            headers : {\n                'Authorization' : 'Bearer ' + this.state.token\n            },\n            params : {\n                id : ''\n            },\n            method: 'GET'\n        })\n        console.log(respuesta)\n        await this.setState({\n            recomended : JSON.stringify(respuesta.data.items)\n        })\n    }\n    get_albums(val){\n        let data = val\n        data = JSON.stringify(val)\n        this.setState({\n            albums : data\n        })\n        console.log(this.state.albums)\n    }\n\n    render(){\n        return (\n            <div className='container'>\n                <Bar datos={this.state.datos} token={this.state.token} albums={this.get_albums.bind(this)} search_found={this.get_search.bind(this)}/>\n                <div className=\"row\">\n                    <div className=\"offset-3 col-6\">\n                        <div className='bg' style={{'background-image' : this.state.bg}}>   \n                            <div className=\"screen\"></div>\n                            <h2>{this.state.artist}</h2>\n                        </div>\n                    </div>\n                    <div className=\"col-3\">\n                        <h3 className='recomended_h3'>Recomended Albums</h3>\n                        <Carousel>\n                            {this.state.recomended != '' ? \n                                JSON.parse(this.state.recomended).map(\n                                        album =>  {\n                                            return(\n                                                <Carousel.Item>\n                                                    <div className=\"recomended\">\n                                                        <a href={album.external_urls.spotify} target='_blank'>\n                                                            <img src={album.images[1].url} class='img-fluid' alt=\"\"/>\n                                                            <p>{album.name}</p>\n                                                        </a>\n                                                        <p class='tracks'>Tracks : <span>{album.total_tracks}</span></p>\n                                                        <span>{album.release_date}</span>\n                                                    </div>\n                                                </Carousel.Item>\n                                            )\n                                        } \n                                    )\n                                : ''}\n                        </Carousel>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"offset-3 col-9\">\n                        <Main found_data = {this.state.search} albums={this.state.albums} token={this.state.token}/>\n                    </div>\n                </div>\n            </div>\n        )\n        \n    }\n}\n\n\n\n\nexport default content;"]},"metadata":{},"sourceType":"module"}