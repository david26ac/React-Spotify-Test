{"ast":null,"code":"import _classCallCheck from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/davidacuna/Documents/Spotify_test/spotify_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import Axios from'axios';import'../css/bar_css.scss';import logo from'../img/logo.png';var Bar=/*#__PURE__*/function(_React$Component){_inherits(Bar,_React$Component);var _super=_createSuper(Bar);function Bar(props){var _this;_classCallCheck(this,Bar);_this=_super.call(this,props);_this.state={search:''};return _this;}_createClass(Bar,[{key:\"get_search\",value:function get_search(event){this.setState({search:event.target.value});}},{key:\"search\",value:function search(e){var temp_this=this;Axios('https://api.spotify.com/v1/search',{headers:{'Authorization':'Bearer '+this.props.token},params:{q:this.state.search,type:'artist'},method:'GET'}).then(function(response){// handle success\ntemp_this.props.search_found(response);console.log(temp_this.props.token);var artista=response.data.artists.items[0].id;console.log(artista);Axios('https://api.spotify.com/v1/artists/'+artista+'/related-artists',{headers:{'Authorization':'Bearer '+temp_this.props.token},params:{id:artista},method:'GET'}).then(function(response){// handle success\nconsole.log(response);}).catch(function(error){// handle success\nconsole.log(error);});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"parent\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bar\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content_bar\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\",className:\"inicio\",children:\"Inicio\"}),/*#__PURE__*/_jsx(\"input\",{className:\"boton_input\",onChange:this.get_search.bind(this),type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buscar\",onClick:this.search.bind(this),children:\"buscar\"})]})]})});}}]);return Bar;}(React.Component);export default Bar;","map":{"version":3,"sources":["/Users/davidacuna/Documents/Spotify_test/spotify_test/src/components/bar.js"],"names":["React","Axios","logo","Bar","props","state","search","event","setState","target","value","e","temp_this","headers","token","params","q","type","method","then","response","search_found","console","log","artista","data","artists","items","id","catch","error","get_search","bind","Component"],"mappings":"wvBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,qBAAP,CACA,MAAOC,CAAAA,IAAP,KAAgB,iBAAhB,C,GAEMC,CAAAA,G,sGACF,aAAYC,KAAZ,CAAkB,qCACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,MAAM,CAAG,EADA,CAAb,CAFc,aAKjB,C,8DACUC,K,CAAM,CACb,KAAKC,QAAL,CAAc,CACVF,MAAM,CAAGC,KAAK,CAACE,MAAN,CAAaC,KADZ,CAAd,EAGH,C,sCACMC,C,CAAE,CACL,GAAIC,CAAAA,SAAS,CAAG,IAAhB,CACAX,KAAK,CAAC,mCAAD,CAAqC,CACtCY,OAAO,CAAG,CACN,gBAAkB,UAAY,KAAKT,KAAL,CAAWU,KADnC,CAD4B,CAItCC,MAAM,CAAG,CACLC,CAAC,CAAG,KAAKX,KAAL,CAAWC,MADV,CAELW,IAAI,CAAE,QAFD,CAJ6B,CAQtCC,MAAM,CAAE,KAR8B,CAArC,CAAL,CAUCC,IAVD,CAUM,SAAUC,QAAV,CAAoB,CACtB;AACAR,SAAS,CAACR,KAAV,CAAgBiB,YAAhB,CAA6BD,QAA7B,EACAE,OAAO,CAACC,GAAR,CAAYX,SAAS,CAACR,KAAV,CAAgBU,KAA5B,EACA,GAAIU,CAAAA,OAAO,CAAGJ,QAAQ,CAACK,IAAT,CAAcC,OAAd,CAAsBC,KAAtB,CAA4B,CAA5B,EAA+BC,EAA7C,CACAN,OAAO,CAACC,GAAR,CAAYC,OAAZ,EAEAvB,KAAK,CAAC,sCAAwCuB,OAAxC,CAAkD,kBAAnD,CAAsE,CACvEX,OAAO,CAAG,CACN,gBAAkB,UAAYD,SAAS,CAACR,KAAV,CAAgBU,KADxC,CAD6D,CAIvEC,MAAM,CAAG,CACLa,EAAE,CAAGJ,OADA,CAJ8D,CAOvEN,MAAM,CAAE,KAP+D,CAAtE,CAAL,CASCC,IATD,CASM,SAAUC,QAAV,CAAoB,CACtB;AACAE,OAAO,CAACC,GAAR,CAAYH,QAAZ,EACH,CAZD,EAaCS,KAbD,CAaO,SAAUC,KAAV,CAAiB,CACpB;AACAR,OAAO,CAACC,GAAR,CAAYO,KAAZ,EACH,CAhBD,EAiBH,CAlCD,EAqCH,C,uCAEO,CACJ,mBACI,YAAK,SAAS,CAAC,QAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,GAAG,CAAE5B,IAAV,CAAgB,GAAG,CAAC,EAApB,EADJ,cAEI,aAAK,SAAS,CAAC,aAAf,wBACI,UAAG,IAAI,CAAC,EAAR,CAAW,SAAS,CAAC,QAArB,oBADJ,cAEI,cAAO,SAAS,CAAC,aAAjB,CAA+B,QAAQ,CAAE,KAAK6B,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAzC,CAAqE,IAAI,CAAC,MAA1E,EAFJ,cAGI,eAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,KAAK1B,MAAL,CAAY0B,IAAZ,CAAiB,IAAjB,CAApC,oBAHJ,GAFJ,GADJ,EADJ,CAYH,C,iBAlEahC,KAAK,CAACiC,S,EAoExB,cAAe9B,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport Axios from 'axios';\n\nimport '../css/bar_css.scss';\nimport logo from'../img/logo.png'\n\nclass Bar extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            search : ''\n        }\n    }\n    get_search(event){\n        this.setState({\n            search : event.target.value\n        })\n    }\n    search(e){\n        let temp_this = this\n        Axios('https://api.spotify.com/v1/search',{\n            headers : {\n                'Authorization' : 'Bearer ' + this.props.token\n            },\n            params : {\n                q : this.state.search,\n                type: 'artist'\n            },\n            method: 'GET'\n        })\n        .then(function (response) {\n            // handle success\n            temp_this.props.search_found(response)\n            console.log(temp_this.props.token)\n            let artista = response.data.artists.items[0].id\n            console.log(artista)\n\n            Axios('https://api.spotify.com/v1/artists/' + artista + '/related-artists',{\n                headers : {\n                    'Authorization' : 'Bearer ' + temp_this.props.token\n                },\n                params : {\n                    id : artista\n                },\n                method: 'GET'\n            })\n            .then(function (response) {\n                // handle success\n                console.log(response)\n            })\n            .catch(function (error) {\n                // handle success\n                console.log(error)\n            })\n        })\n\n\n    }\n\n    render(){\n        return(\n            <div className=\"parent\">\n                <div className=\"bar\">\n                    <img src={logo} alt=\"\"/>\n                    <div className=\"content_bar\">\n                        <a href=\"\" className='inicio'>Inicio</a>\n                        <input className='boton_input' onChange={this.get_search.bind(this)} type=\"text\"/>\n                        <button className='buscar' onClick={this.search.bind(this)}>buscar</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\nexport default Bar;\n"]},"metadata":{},"sourceType":"module"}